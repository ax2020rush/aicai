(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba97a162"],{"3b26":function(e,t,s){"use strict";var a=s("cadc"),n=s.n(a);n.a},"3c02":function(e,t,s){},"7a95":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("h2",{class:"names"+e.num},[e._v(e._s(e.name))]),s("div",{staticClass:"tell",class:"tell"+e.num},["checkbox"!==e.type||e.code?"radio"!==e.type||e.code?e.code?e._e():s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:e.type},domProps:{value:e.message},on:{focus:e.focus,click:e.focus,blur:e.blur,input:function(t){t.target.composing||(e.message=t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.message,null)},on:{focus:e.focus,click:e.focus,blur:e.blur,change:function(t){e.message=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.message)?e._i(e.message,null)>-1:e.message},on:{focus:e.focus,click:e.focus,blur:e.blur,change:function(t){var s=e.message,a=t.target,n=!!a.checked;if(Array.isArray(s)){var c=null,o=e._i(s,c);a.checked?o<0&&(e.message=s.concat([c])):o>-1&&(e.message=s.slice(0,o).concat(s.slice(o+1)))}else e.message=n}}}),e.code?s("div",{staticClass:"codes"},["checkbox"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"smsMobil",class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.message)?e._i(e.message,null)>-1:e.message},on:{focus:e.focus,click:e.focus,blur:e.blur,change:function(t){var s=e.message,a=t.target,n=!!a.checked;if(Array.isArray(s)){var c=null,o=e._i(s,c);a.checked?o<0&&(e.message=s.concat([c])):o>-1&&(e.message=s.slice(0,o).concat(s.slice(o+1)))}else e.message=n}}}):"radio"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"smsMobil",class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.message,null)},on:{focus:e.focus,click:e.focus,blur:e.blur,change:function(t){e.message=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"smsMobil",class:"in"+e.num,attrs:{code:e.code,placeholder:e.placeholder,type:e.type},domProps:{value:e.message},on:{focus:e.focus,click:e.focus,blur:e.blur,input:function(t){t.target.composing||(e.message=t.target.value)}}}),e.code?s("a",{on:{click:e.getMsmCode}},[e._v(e._s(e.smsCode))]):e._e()]):e._e()])])},n=[],c=(s("b0c0"),s("e25e"),s("4795"),s("a474")),o={name:"inputBox",props:{placeholder:String,num:String,name:String,type:String,codephone:null,code:{type:Boolean,default:!1},usage:String},data:function(){return{message:null,smsCode:"获取验证码"}},methods:{focus:function(){var e=this;document.querySelector(".names"+this.num).classList.remove("active2"),document.querySelector(".names"+this.num).classList.add("active"),document.querySelector(".tell"+this.num).style.borderBottom="1px solid #333333",setTimeout((function(){document.querySelector(".in"+e.num).style.opacity="1"}),200)},blur:function(){this.message||(document.querySelector(".names"+this.num).classList.remove("active"),document.querySelector(".names"+this.num).classList.add("active2"),document.querySelector(".in"+this.num).style.opacity="0",document.querySelector(".tell"+this.num).style.borderBottom="1px solid #d3d3d3")},getMsmCode:function(){var e,t=this,s=this,a=60;e="forget"===this.$route.name||"register"===this.$route.name?document.querySelector(".in1").value:s.$refs.smsMobil._value,e&&11===e.length?parseInt(s.smsCode)>-1||c["a"].getSms({mobile:e,usage:s.usage}).then((function(e){if(200===e.code)var n=setInterval((function(){a--,s.smsCode=a+"s",a<0&&(s.smsCode="重新获取",clearInterval(n))}),1e3);else t.$toast.fail(e.data.message)})):s.$toast.fail("请输入正确的手机号码")}},computed:{},mounted:function(){}},r=o,i=(s("3b26"),s("2877")),l=Object(i["a"])(r,a,n,!1,null,"7dbb6686",null);t["a"]=l.exports},"9ee2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"userio"},[s("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"thead"},[s("a",{on:{click:function(t){e.show=!1}}}),s("p",[e._v("修改/绑定真实姓名")]),s("s")]),s("div",{staticClass:"inputs"},[s("inputBox",{ref:"user",attrs:{name:"请输入真实姓名",type:"text",num:"1"}}),s("van-icon",{attrs:{size:"20",name:"success"},on:{click:e.onsubmit}})],1)]),s("topBar",{attrs:{title:"个人信息"}}),e.userAgent?s("van-cell-group",[s("van-cell",{staticStyle:{background:"#F9F9F9","padding-bottom":"2px",display:"flex","align-items":"center"},attrs:{border:"","is-link":"","title-style":"display:flex;align-items:center",title:"头像"}},[s("div",{attrs:{slot:"default"},slot:"default"},[s("van-uploader",{staticStyle:{position:"absolute",right:"-28px","z-index":"999",top:"0",opacity:"0"},attrs:{"max-count":"1","after-read":e.afterRead},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}}),s("van-image",{attrs:{fit:"cover",round:"",width:"40",height:"40",name:e.userAgent.member.head_portrait,src:e.img||e.ishttp(e.userAgent.member.head_portrait,!0)}})],1)]),s("van-cell",{staticStyle:{background:"#F9F9F9","padding-bottom":"2px",display:"flex","align-items":"center"},attrs:{value:e.userAgent.member.nickname,border:"","is-link":"","title-style":"display:flex;align-items:center",title:"昵称"},on:{click:function(t){e.show=!0,e.type=1}}}),s("van-cell",{staticStyle:{background:"#F9F9F9","padding-bottom":"2px",display:"flex","align-items":"center"},attrs:{value:e.userAgent.member.realname,border:"","is-link":"","title-style":"display:flex;align-items:center",title:"真实姓名"},on:{click:function(t){e.show=!0,e.type=2}}})],1):s("v-loading")],1)},n=[],c=(s("96cf"),s("1da1")),o=s("5530"),r=s("a474"),i=s("2f62"),l=s("c114"),u=s("7a95"),m={name:"index",data:function(){return{ishttp:l["i"],show:!1,type:null,img:null,fileList:[]}},computed:Object(o["a"])({},Object(i["c"])(["userAgent"])),methods:Object(o["a"])(Object(o["a"])({afterRead:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var a,n,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=new FormData,a.append("file",e.file),s.next=4,r["a"].upImg(a,!0);case 4:if(n=s.sent,200!==n.code){s.next=15;break}return t.img=n.data.url,c={},c.scenario_type="head_portrait",c.head_portrait=n.data.url,t.getuser(),s.next=13,r["a"].realname(c);case 13:s.next=16;break;case 15:t.$toast.fail("上传失败，请稍后重试");case 16:case"end":return s.stop()}}),s)})))()}},Object(i["b"])(["getuser"])),{},{onsubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s={},a=e.$refs.user.message,1===e.type?(s.scenario_type="nickname",s.nickname=a):2===e.type&&(s.scenario_type="realname",s.realname=a),!s.nickname&&!s.realname){t.next=10;break}return t.next=6,r["a"].realname(s);case 6:n=t.sent,200===n.code?(e.$refs.user.message=null,e.show=!1,e.getuser()):e.$toast.fail(n.message),t.next=11;break;case 10:e.$toast.fail("请输入姓名");case 11:case"end":return t.stop()}}),t)})))()}}),components:{inputBox:u["a"]}},d=m,p=(s("fbd9"),s("2877")),g=Object(p["a"])(d,a,n,!1,null,"c3929b52",null);t["default"]=g.exports},cadc:function(e,t,s){},fbd9:function(e,t,s){"use strict";var a=s("3c02"),n=s.n(a);n.a}}]);